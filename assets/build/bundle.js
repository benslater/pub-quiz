var app=function(){"use strict";function t(){}function e(t){return t()}function n(){return Object.create(null)}function r(t){t.forEach(e)}function o(t){return"function"==typeof t}function a(t,e){return t!=t?e==e:t!==e||t&&"object"==typeof t||"function"==typeof t}function s(e,...n){if(null==e)return t;const r=e.subscribe(...n);return r.unsubscribe?()=>r.unsubscribe():r}function u(t,e,n){t.$$.on_destroy.push(s(e,n))}function c(t,e,n,r){return t[1]&&r?function(t,e){for(const n in e)t[n]=e[n];return t}(n.ctx.slice(),t[1](r(e))):n.ctx}function l(t,e){t.appendChild(e)}function i(t,e,n){t.insertBefore(e,n||null)}function d(t){t.parentNode.removeChild(t)}function f(t,e){for(let n=0;n<t.length;n+=1)t[n]&&t[n].d(e)}function m(t){return document.createElement(t)}function p(t){return document.createTextNode(t)}function g(){return p(" ")}function h(){return p("")}function v(t,e,n,r){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n,r)}function $(t,e,n){null==n?t.removeAttribute(e):t.getAttribute(e)!==n&&t.setAttribute(e,n)}function y(t,e){e=""+e,t.data!==e&&(t.data=e)}function b(t,e){(null!=e||t.value)&&(t.value=e)}function w(t,e,n){t.classList[n?"add":"remove"](e)}let R;function x(t){R=t}function P(t){(function(){if(!R)throw new Error("Function called outside component initialization");return R})().$$.on_mount.push(t)}const C=[],k=[],O=[],N=[],S=Promise.resolve();let A=!1;function q(t){O.push(t)}let E=!1;const j=new Set;function _(){if(!E){E=!0;do{for(let t=0;t<C.length;t+=1){const e=C[t];x(e),T(e.$$)}for(C.length=0;k.length;)k.pop()();for(let t=0;t<O.length;t+=1){const e=O[t];j.has(e)||(j.add(e),e())}O.length=0}while(C.length);for(;N.length;)N.pop()();A=!1,E=!1,j.clear()}}function T(t){if(null!==t.fragment){t.update(),r(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(q)}}const I=new Set;let z;function L(){z={r:0,c:[],p:z}}function U(){z.r||r(z.c),z=z.p}function D(t,e){t&&t.i&&(I.delete(t),t.i(e))}function W(t,e,n,r){if(t&&t.o){if(I.has(t))return;I.add(t),z.c.push(()=>{I.delete(t),r&&(n&&t.d(1),r())}),t.o(e)}}function M(t){t&&t.c()}function Q(t,n,a){const{fragment:s,on_mount:u,on_destroy:c,after_update:l}=t.$$;s&&s.m(n,a),q(()=>{const n=u.map(e).filter(o);c?c.push(...n):r(n),t.$$.on_mount=[]}),l.forEach(q)}function J(t,e){const n=t.$$;null!==n.fragment&&(r(n.on_destroy),n.fragment&&n.fragment.d(e),n.on_destroy=n.fragment=null,n.ctx=[])}function B(t,e){-1===t.$$.dirty[0]&&(C.push(t),A||(A=!0,S.then(_)),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function F(e,o,a,s,u,c,l=[-1]){const i=R;x(e);const f=o.props||{},m=e.$$={fragment:null,ctx:null,props:c,update:t,not_equal:u,bound:n(),on_mount:[],on_destroy:[],before_update:[],after_update:[],context:new Map(i?i.$$.context:[]),callbacks:n(),dirty:l};let p=!1;if(m.ctx=a?a(e,f,(t,n,...r)=>{const o=r.length?r[0]:n;return m.ctx&&u(m.ctx[t],m.ctx[t]=o)&&(m.bound[t]&&m.bound[t](o),p&&B(e,t)),n}):[],m.update(),p=!0,r(m.before_update),m.fragment=!!s&&s(m.ctx),o.target){if(o.hydrate){const t=function(t){return Array.from(t.childNodes)}(o.target);m.fragment&&m.fragment.l(t),t.forEach(d)}else m.fragment&&m.fragment.c();o.intro&&D(e.$$.fragment),Q(e,o.target,o.anchor),_()}x(i)}class G{$destroy(){J(this,1),this.$destroy=t}$on(t,e){const n=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return n.push(e),()=>{const t=n.indexOf(e);-1!==t&&n.splice(t,1)}}$set(){}}const H=[];function K(t,e){return{subscribe:V(t,e).subscribe}}function V(e,n=t){let r;const o=[];function s(t){if(a(e,t)&&(e=t,r)){const t=!H.length;for(let t=0;t<o.length;t+=1){const n=o[t];n[1](),H.push(n,e)}if(t){for(let t=0;t<H.length;t+=2)H[t][0](H[t+1]);H.length=0}}}return{set:s,update:function(t){s(t(e))},subscribe:function(a,u=t){const c=[a,u];return o.push(c),1===o.length&&(r=n(s)||t),a(e),()=>{const t=o.indexOf(c);-1!==t&&o.splice(t,1),0===o.length&&(r(),r=null)}}}}function Y(t){return t&&t.default||t}const X=(0,Y(Object.freeze({__proto__:null,derived:function(e,n,a){const u=!Array.isArray(e),c=u?[e]:e,l=n.length<2;return K(a,e=>{let a=!1;const i=[];let d=0,f=t;const m=()=>{if(d)return;f();const r=n(u?i[0]:i,e);l?e(r):f=o(r)?r:t},p=c.map((t,e)=>s(t,t=>{i[e]=t,d&=~(1<<e),a&&m()},()=>{d|=1<<e}));return a=!0,m(),function(){r(p),f()}})},readable:K,writable:V,get:function(t){let e;return s(t,t=>e=t)(),e}})).writable)({});var Z={activeRoute:{subscribe:X.subscribe,set:function(t){X.set(t)},remove:function(){X.set({})}}},tt=Z.activeRoute;var et={UrlParser:(t,e="")=>{const n=new URL(t);function r(){return a(e).reduce((t,e,n)=>(":"===e[0]&&t.push({value:e.slice(1),index:n}),t),[])}function o(){return a(n.pathname)}function a(t){return"/"===t||0===t.trim().length?[t]:("/"===t.slice(-1)&&(t=t.slice(0,-1)),"/"===t[0]&&(t=t.slice(1)),t.split("/"))}return Object.freeze({host:n.host,hostname:n.hostname,namedParams:function(){const t=o();return r().reduce((e,n)=>(e[n.value]=t[n.index],e),{})}(),namedParamsKeys:r().reduce((t,e)=>(t.push(e.value),t),[]),namedParamsValues:function(){const t=o();return r().reduce((e,n)=>(e.push(t[n.index]),e),[])}(),pathNames:o(),port:n.port,pathname:n.pathname,protocol:n.protocol,search:n.search,queryParams:function(){const t={};return n.searchParams.forEach((e,n)=>{t[n]=e}),t}(),queryParamsKeys:function(){const t=[];return n.searchParams.forEach((e,n)=>{t.push(n)}),t}(),queryParamsValues:function(){const t=[];return n.searchParams.forEach(e=>{t.push(e)}),t}()})}};function nt(t,e){return(e=at(e)).includes(":")?e.includes(t):e.startsWith(t)}function rt(t,e,n){let r=!1;if(n)return{exists:e.lang&&e.lang[n]&&e.lang[n].includes(t),language:n};if(r=nt(t,e.name),!r&&e.lang&&"object"==typeof e.lang)for(const[o,a]of Object.entries(e.lang))nt(t,a)&&(r=!0,n=o);return{exists:r,language:n}}function ot(t){return"/"===t||0===t.trim().length?[t]:(t=at(t,"both")).split("/")}function at(t,e="lead"){return t.trim().length<1?"":("trail"!==e&&"both"!==e||"/"===t.slice(-1)&&(t=t.slice(0,-1)),"lead"!==e&&"both"!==e||"/"===t[0]&&(t=t.slice(1)),t)}function st(t,e=null){return e&&t.lang&&t.lang[e]?t.lang[e]:t.name}var ut={anyEmptyNestedRoutes:function t(e){let n=!1;return 0===Object.keys(e).length||(e.childRoute&&0===Object.keys(e.childRoute).length?n=!0:e.childRoute&&(n=t(e.childRoute)),n)},compareRoutes:nt,findLocalisedRoute:rt,getNamedParams:function(t=""){return 0===t.trim().length?[]:ot(t).reduce((t,e)=>(":"===e[0]&&t.push(e.slice(1)),t),[])},getPathNames:ot,nameToPath:function(t=""){let e;return"/"===t||0===t.trim().length?t:(e=(t=at(t,"lead")).split(":")[0],e=at(e,"trail"),e.toLowerCase())},pathWithQueryParams:function(t){let e=[];if(t.queryParams)for(let[n,r]of Object.entries(t.queryParams))e.push(`${n}=${r}`);return e.length>0?`${t.path}?${e.join("&")}`:t.path},pathWithoutQueryParams:function(t){return t.path.split("?")[0]},removeExtraPaths:function(t,e){const n=e.split("/");return n.length>1&&n.forEach((function(e,n){e.length>0&&n>0&&t.shift()})),t},removeSlash:at,routeNameLocalised:st,updateRoutePath:function(t,e,n,r,o=!1){if("/"===t||0===t.trim().length)return{result:t,language:null};let a=t,s=n.name,u=r;if(o&&(u=""),s=at(s),a=at(a),n.childRoute)return{result:t,language:u};{let t=rt(a,n,u);t.exists&&o&&(a=st(n,r));let c=s.split(":")[0];return c=at(c,"trail"),c=c.split("/"),c.shift(),c.forEach(()=>{const s=e[0];if(t=rt(`${a}/${s}`,n,u),!s||!t.exists)return{result:a,language:t.language};a=o?st(n,r):`${a}/${s}`,e.shift()}),{result:a,language:t.language}}}};const{UrlParser:ct}=et,{pathWithQueryParams:lt,removeSlash:it}=ut;var dt={RouterCurrent:function(t){const e=t||!1;let n="";return Object.freeze({active:function(){return n},isActive:function(t,e=!1){"/"!==t[0]&&(t="/"+t);let r=ct("http://fake.com"+t).pathname,o=ct("http://fake.com"+n).pathname;return r=it(r,"trail"),o=it(o,"trail"),e?o.includes(r):o===r},setActive:function(t){n=t.path,function(t){if("undefined"!=typeof window){const r=lt(t);window.history.pushState({page:r},"",r),e&&(n=r,"undefined"!=typeof ga&&(ga("set","page",n),ga("send","pageview")))}var n}(t)}})}};var ft={RouterGuard:function(t){const e=t;return Object.freeze({valid:function(){return e&&e.guard&&"function"==typeof e.guard},redirect:function(){return!e.guard()},redirectPath:function(){let t="/";return e.redirect&&e.redirect.length>0&&(t=e.redirect),t}})}};const{RouterGuard:mt}=ft;var pt={RouterRedirect:function(t,e){const n=mt(t.onlyIf);return Object.freeze({path:function(){let r=e;return t.redirectTo&&t.redirectTo.length>0&&(r=t.redirectTo),n.valid()&&n.redirect()&&(r=n.redirectPath()),r}})}};const{UrlParser:gt}=et;var ht={RouterRoute:function({routeInfo:t,path:e,routeNamedParams:n,urlParser:r,namedPath:o,language:a}){function s(){const t=gt("https://fake.com"+r.pathname,o).namedParams;return{...n,...t}}return Object.freeze({get:function(){return{name:e,component:t.component,layout:t.layout,queryParams:r.queryParams,namedParams:s(),path:e,language:a}},namedParams:s})}};const{updateRoutePath:vt,getNamedParams:$t,nameToPath:yt,removeExtraPaths:bt,routeNameLocalised:wt}=ut;var Rt={RouterPath:function({basePath:t,basePathName:e,pathNames:n,convert:r,currentLanguage:o}){let a,s,u=o;function c(){return wt(s,u)}function l(){return yt(c())}function i(){return yt(a.result)}return Object.freeze({basePathSameAsLocalised:function(){return i()===l()},updatedPath:function(t){return s=t,a=vt(e,n,s,u,r),u=r?o:a.language,a},basePathNameWithoutNamedParams:i,localisedPathName:c,localisedRouteWithoutNamedParams:l,namedPath:function(){const e=c();return t?`${t}/${e}`:e},pathNames:n,routeLanguage:function(){return u},routePath:function(){let e=`${t}/${i()}`;"//"===e&&(e="/"),u&&(n=bt(n,l()));const r=$t(c());return r&&r.length>0&&r.forEach((function(){n.length>0&&(e+="/"+n.shift())})),e}})}};const{UrlParser:xt}=et,{RouterRedirect:Pt}=pt,{RouterRoute:Ct}=ht,{RouterPath:kt}=Rt,{anyEmptyNestedRoutes:Ot,pathWithoutQueryParams:Nt}=ut;var St={RouterFinder:function({routes:t,currentUrl:e,routerOptions:n,convert:r}){const o=n.defaultLanguage,a=xt(e);let s="",u={};return Object.freeze({findActiveRoute:function(){let e=function t(e,n,r,c,l){let i={},d=r.shift().toLowerCase();const f=kt({basePath:n,basePathName:d,pathNames:r,convert:l,currentLanguage:c});e.forEach((function(e){if(f.updatedPath(e),f.basePathSameAsLocalised()){let n=f.routePath();if(s=Pt(e,s).path(),i.name!==n&&(i=function({route:t,routePath:e,routeLanguage:n,urlParser:r,namedPath:a}){const s=Ct({routeInfo:t,urlParser:r,path:e,routeNamedParams:u,namedPath:a,language:n||o});return u=s.namedParams(),s.get()}({route:e,routePath:n,routeLanguage:f.routeLanguage(),urlParser:a,namedPath:f.namedPath()})),e.nestedRoutes&&e.nestedRoutes.length>0&&f.pathNames.length>0)i.childRoute=t(e.nestedRoutes,n,f.pathNames,f.routeLanguage(),l),i.path=i.childRoute.path,i.language=i.childRoute.language;else if(function(t,e){return t.nestedRoutes&&t.nestedRoutes.length>0&&0===e.length}(e,f.pathNames)){const r=t(e.nestedRoutes,n,["index"],f.routeLanguage(),l);r&&Object.keys(r).length>0&&(i.childRoute=r,i.language=i.childRoute.language)}}})),s&&(i.redirectTo=s);return i}(t,"",a.pathNames,n.lang,r);return e&&Object.keys(e).length&&!Ot(e)?e.path=Nt(e):"undefined"!=typeof window&&(e=function(e){const n=t.find(t=>"404"==t.name),r=e||o||"";return n?{...n,language:r,path:"404"}:{name:"404",component:"",path:"404",redirectTo:"/404.html"}}(n.lang)),e}})}};const{activeRoute:At}=Z,{RouterCurrent:qt}=dt,{RouterFinder:Et}=St,{removeSlash:jt}=ut;let _t,Tt=[],It={};function zt(t,e,n={}){function r(){let n=!1;return It.langConvertTo&&(It.lang=It.langConvertTo,n=!0),Et({routes:t,currentUrl:e,routerOptions:It,convert:n}).findActiveRoute()}return It={...n},void 0!==e&&""!==e||(e=document.location.href),_t=qt(It.gaPageviews),e=jt(e,"trail"),Tt=t,Object.freeze({setActiveRoute:function(){const t=r();return t.redirectTo?(e=t.redirectTo,"undefined"!=typeof window&&("/404.html"===e?_t.setActive({path:"/404.html"}):Lt(e)),e):(_t.setActive(t),At.set(t),t);var e},findActiveRoute:r})}function Lt(t,e=null){return t=jt(t,"lead"),e&&(It.langConvertTo=e),zt(Tt,"http://fake.com/"+t,It).setActiveRoute()}"undefined"!=typeof window&&(window.addEventListener("click",t=>{t.target.pathname&&t.target.hostname===window.location.hostname&&"a"===t.target.localName&&(t.preventDefault(),Lt(t.target.pathname+t.target.search))}),window.onpopstate=function(t){Lt(window.location.pathname+window.location.search)});var Ut={SpaRouter:zt,localisedRoute:function(t,e){return t=jt(t,"lead"),It.langConvertTo=e,zt(Tt,"http://fake.com/"+t,It).findActiveRoute()},navigateTo:Lt,routeIsActive:function(t,e=!1){return _t.isActive(t,e)}},Dt=Ut.SpaRouter,Wt=Ut.localisedRoute,Mt=Ut.navigateTo,Qt=Ut.routeIsActive;function Jt(t){let e;const n=new Kt({props:{currentRoute:t[0].childRoute,params:t[1]}});return{c(){M(n.$$.fragment)},m(t,r){Q(n,t,r),e=!0},p(t,e){const r={};1&e&&(r.currentRoute=t[0].childRoute),2&e&&(r.params=t[1]),n.$set(r)},i(t){e||(D(n.$$.fragment,t),e=!0)},o(t){W(n.$$.fragment,t),e=!1},d(t){J(n,t)}}}function Bt(t){let e,n;var r=t[0].component;function o(t){return{props:{currentRoute:{...t[0],component:""},params:t[1]}}}if(r)var a=new r(o(t));return{c(){a&&M(a.$$.fragment),e=h()},m(t,r){a&&Q(a,t,r),i(t,e,r),n=!0},p(t,n){const s={};if(1&n&&(s.currentRoute={...t[0],component:""}),2&n&&(s.params=t[1]),r!==(r=t[0].component)){if(a){L();const t=a;W(t.$$.fragment,1,0,()=>{J(t,1)}),U()}r?(M((a=new r(o(t))).$$.fragment),D(a.$$.fragment,1),Q(a,e.parentNode,e)):a=null}else r&&a.$set(s)},i(t){n||(a&&D(a.$$.fragment,t),n=!0)},o(t){a&&W(a.$$.fragment,t),n=!1},d(t){t&&d(e),a&&J(a,t)}}}function Ft(t){let e,n;var r=t[0].layout;function o(t){return{props:{currentRoute:{...t[0],layout:""},params:t[1]}}}if(r)var a=new r(o(t));return{c(){a&&M(a.$$.fragment),e=h()},m(t,r){a&&Q(a,t,r),i(t,e,r),n=!0},p(t,n){const s={};if(1&n&&(s.currentRoute={...t[0],layout:""}),2&n&&(s.params=t[1]),r!==(r=t[0].layout)){if(a){L();const t=a;W(t.$$.fragment,1,0,()=>{J(t,1)}),U()}r?(M((a=new r(o(t))).$$.fragment),D(a.$$.fragment,1),Q(a,e.parentNode,e)):a=null}else r&&a.$set(s)},i(t){n||(a&&D(a.$$.fragment,t),n=!0)},o(t){a&&W(a.$$.fragment,t),n=!1},d(t){t&&d(e),a&&J(a,t)}}}function Gt(t){let e,n,r,o;const a=[Ft,Bt,Jt],s=[];function u(t,e){return t[0].layout?0:t[0].component?1:t[0].childRoute?2:-1}return~(e=u(t))&&(n=s[e]=a[e](t)),{c(){n&&n.c(),r=h()},m(t,n){~e&&s[e].m(t,n),i(t,r,n),o=!0},p(t,[o]){let c=e;e=u(t),e===c?~e&&s[e].p(t,o):(n&&(L(),W(s[c],1,1,()=>{s[c]=null}),U()),~e?(n=s[e],n||(n=s[e]=a[e](t),n.c()),D(n,1),n.m(r.parentNode,r)):n=null)},i(t){o||(D(n),o=!0)},o(t){W(n),o=!1},d(t){~e&&s[e].d(t),t&&d(r)}}}function Ht(t,e,n){let{currentRoute:r={}}=e,{params:o={}}=e;return t.$set=t=>{"currentRoute"in t&&n(0,r=t.currentRoute),"params"in t&&n(1,o=t.params)},[r,o]}class Kt extends G{constructor(t){super(),F(this,t,Ht,Gt,a,{currentRoute:0,params:1})}}var Vt=Object.freeze({__proto__:null,default:Kt});function Yt(t){let e;const n=new Kt({props:{currentRoute:t[0]}});return{c(){M(n.$$.fragment)},m(t,r){Q(n,t,r),e=!0},p(t,[e]){const r={};1&e&&(r.currentRoute=t[0]),n.$set(r)},i(t){e||(D(n.$$.fragment,t),e=!0)},o(t){W(n.$$.fragment,t),e=!1},d(t){J(n,t)}}}function Xt(t,e,n){let r;u(t,tt,t=>n(0,r=t));let{routes:o=[]}=e,{options:a={}}=e;return P((function(){Dt(o,document.location.href,a).setActiveRoute()})),t.$set=t=>{"routes"in t&&n(1,o=t.routes),"options"in t&&n(2,a=t.options)},[r,o,a]}var Zt=Object.freeze({__proto__:null,default:class extends G{constructor(t){super(),F(this,t,Xt,Yt,a,{routes:1,options:2})}}});function te(t){let e,n,r;const o=t[6].default,a=function(t,e,n,r){if(t){const o=c(t,e,n,r);return t[0](o)}}(o,t,t[5],null);return{c(){e=m("a"),a&&a.c(),$(e,"href",t[0]),$(e,"title",t[1]),$(e,"class",t[2]),w(e,"active",Qt(t[0]))},m(o,s,u){i(o,e,s),a&&a.m(e,null),n=!0,u&&r(),r=v(e,"click",t[3])},p(t,[r]){a&&a.p&&32&r&&a.p(c(o,t,t[5],null),function(t,e,n,r){if(t[2]&&r){const o=t[2](r(n));if(void 0===e.dirty)return o;if("object"==typeof o){const t=[],n=Math.max(e.dirty.length,o.length);for(let r=0;r<n;r+=1)t[r]=e.dirty[r]|o[r];return t}return e.dirty|o}return e.dirty}(o,t[5],r,null)),(!n||1&r)&&$(e,"href",t[0]),(!n||2&r)&&$(e,"title",t[1]),(!n||4&r)&&$(e,"class",t[2]),5&r&&w(e,"active",Qt(t[0]))},i(t){n||(D(a,t),n=!0)},o(t){W(a,t),n=!1},d(t){t&&d(e),a&&a.d(t),r()}}}function ee(t,e,n){let{to:r="/"}=e,{title:o=""}=e,{styles:a=""}=e,{lang:s=null}=e;P((function(){if(s){const t=Wt(r,s);t&&n(0,r=t.path)}}));let{$$slots:u={},$$scope:c}=e;return t.$set=t=>{"to"in t&&n(0,r=t.to),"title"in t&&n(1,o=t.title),"styles"in t&&n(2,a=t.styles),"lang"in t&&n(4,s=t.lang),"$$scope"in t&&n(5,c=t.$$scope)},[r,o,a,function(t){t.preventDefault(),t.stopPropagation(),Mt(r)},s,c,u]}var ne=Object.freeze({__proto__:null,default:class extends G{constructor(t){super(),F(this,t,ee,te,a,{to:0,title:1,styles:2,lang:4})}}}),re=Y(Vt),oe=Y(Zt),ae=Y(ne);const{SpaRouter:se,navigateTo:ue,localisedRoute:ce,routeIsActive:le}=Ut;var ie={SpaRouter:se,localisedRoute:ce,navigateTo:ue,routeIsActive:le,Route:re,Router:oe,Navigate:ae},de=ie.navigateTo,fe=ie.Router,me=ie.Navigate,pe=function(t,e){return t(e={exports:{}},e.exports),e.exports}((function(t,e){var n;n=function(){function t(){for(var t=0,e={};t<arguments.length;t++){var n=arguments[t];for(var r in n)e[r]=n[r]}return e}function e(t){return t.replace(/(%[0-9A-Z]{2})+/g,decodeURIComponent)}return function n(r){function o(){}function a(e,n,a){if("undefined"!=typeof document){"number"==typeof(a=t({path:"/"},o.defaults,a)).expires&&(a.expires=new Date(1*new Date+864e5*a.expires)),a.expires=a.expires?a.expires.toUTCString():"";try{var s=JSON.stringify(n);/^[\{\[]/.test(s)&&(n=s)}catch(t){}n=r.write?r.write(n,e):encodeURIComponent(String(n)).replace(/%(23|24|26|2B|3A|3C|3E|3D|2F|3F|40|5B|5D|5E|60|7B|7D|7C)/g,decodeURIComponent),e=encodeURIComponent(String(e)).replace(/%(23|24|26|2B|5E|60|7C)/g,decodeURIComponent).replace(/[\(\)]/g,escape);var u="";for(var c in a)a[c]&&(u+="; "+c,!0!==a[c]&&(u+="="+a[c].split(";")[0]));return document.cookie=e+"="+n+u}}function s(t,n){if("undefined"!=typeof document){for(var o={},a=document.cookie?document.cookie.split("; "):[],s=0;s<a.length;s++){var u=a[s].split("="),c=u.slice(1).join("=");n||'"'!==c.charAt(0)||(c=c.slice(1,-1));try{var l=e(u[0]);if(c=(r.read||r)(c,l)||e(c),n)try{c=JSON.parse(c)}catch(t){}if(o[l]=c,t===l)break}catch(t){}}return t?o[t]:o}}return o.set=a,o.get=function(t){return s(t,!1)},o.getJSON=function(t){return s(t,!0)},o.remove=function(e,n){a(e,"",t(n,{expires:-1}))},o.defaults={},o.withConverter=n,o}((function(){}))},t.exports=n()}));const ge="PLAYER",he="HOST",ve=V({}),$e=V(he),ye=V({id:"",name:""});function be(t){let e;return{c(){e=m("button"),e.textContent="Start new game",$(e,"class","svelte-1vi3t37")},m(t,n){i(t,e,n)},d(t){t&&d(e)}}}function we(t){let e;return{c(){e=m("button"),e.textContent="Join game",$(e,"class","svelte-1vi3t37")},m(t,n){i(t,e,n)},d(t){t&&d(e)}}}function Re(t){let e,n,r,o,a,s,u,c,f,h,y,b,w,R,x,P,C,k,O,N,S,A,q,E,j,_,T,I;const z=new me({props:{to:"/setup",$$slots:{default:[be]},$$scope:{ctx:t}}}),L=new me({props:{to:"/join",$$slots:{default:[we]},$$scope:{ctx:t}}});return{c(){e=m("div"),n=m("input"),r=g(),o=m("div"),a=m("label"),s=g(),u=m("div"),c=m("label"),c.textContent="X",f=g(),h=m("h4"),h.textContent="It looks like you have a game in progress!",y=g(),b=m("p"),w=p("Do you want to rejoin the game\n        "),R=m("span"),R.textContent=""+(t[0]&&t[0].game.gameId),x=p("\n        ?"),P=g(),C=m("div"),k=m("button"),k.textContent="Yes",O=g(),N=m("label"),N.textContent="No",S=g(),A=m("div"),M(z.$$.fragment),q=g(),E=m("div"),M(L.$$.fragment),j=g(),_=m("div"),_.innerHTML='\n    Made by\n    <a class="text-secondary" href="http://benslater.tech">Ben Slater</a>\n    using\n    <a class="text-secondary" href="https://svelte.dev/">Svelte,</a> \n    <a class="text-secondary" href="https://sailsjs.com/">Sails.js,</a>\n    and\n    <a class="text-secondary" href="https://www.getpapercss.com">Paper CSS</a>',$(n,"class","modal-state"),$(n,"id","reconnect-modal"),$(n,"type","checkbox"),$(a,"class","modal-bg"),$(a,"for","reconnect-modal"),$(c,"class","btn-close"),$(c,"for","reconnect-modal"),$(h,"class","modal-title"),$(R,"class","text-muted"),$(b,"class","modal-text"),$(k,"class","svelte-1vi3t37"),$(N,"class","paper-btn svelte-1vi3t37"),$(N,"for","reconnect-modal"),$(C,"class","rejoin-button-container svelte-1vi3t37"),$(u,"class","modal-body"),$(o,"class","modal"),$(A,"class","button-container svelte-1vi3t37"),$(E,"class","button-container svelte-1vi3t37"),$(_,"class","about svelte-1vi3t37"),$(e,"class","homepage svelte-1vi3t37")},m(d,m,p){i(d,e,m),l(e,n),l(e,r),l(e,o),l(o,a),l(o,s),l(o,u),l(u,c),l(u,f),l(u,h),l(u,y),l(u,b),l(b,w),l(b,R),l(b,x),l(u,P),l(u,C),l(C,k),l(C,O),l(C,N),l(e,S),l(e,A),Q(z,A,null),l(e,q),l(e,E),Q(L,E,null),l(e,j),l(e,_),T=!0,p&&I(),I=v(k,"click",t[1])},p(t,[e]){const n={};16&e&&(n.$$scope={dirty:e,ctx:t}),z.$set(n);const r={};16&e&&(r.$$scope={dirty:e,ctx:t}),L.$set(r)},i(t){T||(D(z.$$.fragment,t),D(L.$$.fragment,t),T=!0)},o(t){W(z.$$.fragment,t),W(L.$$.fragment,t),T=!1},d(t){t&&d(e),J(z),J(L),I()}}}function xe(t,e,n){let{currentRoute:r}=e,{params:o}=e;const a=pe.getJSON("gameInProgress");P(()=>{a&&document.getElementById("reconnect-modal").click()});return t.$set=t=>{"currentRoute"in t&&n(2,r=t.currentRoute),"params"in t&&n(3,o=t.params)},[a,()=>{a.role===he?$e.set(he):(ye.set(a.player),$e.set(ge)),de("/game/"+a.game.gameId)},r,o]}let Pe;var Ce=async(t,e)=>{if(!Pe){const{_csrf:t}=await(await fetch("/api/get-csrf")).json();Pe=t}const n={...e,body:["POST","PUT","DELETE"].includes(e.method)?JSON.stringify({...e.body,_csrf:Pe}):void 0};return await fetch(t,n)};function ke(t,e,n){const r=t.slice();return r[17]=e[n],r[19]=n,r}function Oe(t,e,n){const r=t.slice();return r[14]=e[n],r[15]=e,r[16]=n,r}function Ne(t){let e,n,o,a,s,u,c,f,h,w,R,x,P,C,k,O,N,S,A,q,E,j,_,T,I,z=t[19]+1+"",L=t[2]?"Delete question":"✘",U=t[19]>0&&function(t){let e;return{c(){e=m("hr"),$(e,"class","svelte-1h3hu58")},m(t,n){i(t,e,n)},d(t){t&&d(e)}}}();function D(){t[10].call(x,t[14],t[19])}function W(){t[11].call(A,t[14],t[19])}function M(...e){return t[12](t[16],t[19],...e)}return{c(){U&&U.c(),e=g(),n=m("div"),o=m("h4"),a=p("Q"),s=p(z),u=p(":"),c=g(),f=m("div"),h=m("label"),h.textContent="Question:",R=g(),x=m("input"),C=g(),k=m("div"),O=m("label"),O.textContent="Answer:",S=g(),A=m("input"),E=g(),j=m("div"),_=m("button"),T=p(L),$(o,"class","col sm-2 svelte-1h3hu58"),$(h,"for",w="question-input-"+(t[19]+1)),$(x,"class","input-block"),$(x,"type","text"),$(x,"id",P="question-input-"+(t[19]+1)),$(f,"class","form-group col sm-4"),$(O,"for",N="answer-input-"+(t[19]+1)),$(A,"class","input-block"),$(A,"type","text"),$(A,"id",q="answer-input-"+(t[19]+1)),$(k,"class","form-group col sm-4"),$(_,"class","background-danger delete-question-button svelte-1h3hu58"),$(j,"class","col sm-2 delete-question-button-container svelte-1h3hu58"),$(n,"class","row")},m(d,m,p){U&&U.m(d,m),i(d,e,m),i(d,n,m),l(n,o),l(o,a),l(o,s),l(o,u),l(n,c),l(n,f),l(f,h),l(f,R),l(f,x),b(x,t[14][t[19]].question),l(n,C),l(n,k),l(k,O),l(k,S),l(k,A),b(A,t[14][t[19]].answer),l(n,E),l(n,j),l(j,_),l(_,T),p&&r(I),I=[v(x,"input",D),v(A,"input",W),v(_,"click",M)]},p(e,n){t=e,1&n&&x.value!==t[14][t[19]].question&&b(x,t[14][t[19]].question),1&n&&A.value!==t[14][t[19]].answer&&b(A,t[14][t[19]].answer),4&n&&L!==(L=t[2]?"Delete question":"✘")&&y(T,L)},d(t){U&&U.d(t),t&&d(e),t&&d(n),r(I)}}}function Se(t){let e,n,r,o,a,s,u,c,h,y,b,w,R=t[16]+1+"",x=t[14],P=[];for(let e=0;e<x.length;e+=1)P[e]=Ne(ke(t,x,e));function C(...e){return t[13](t[16],...e)}return{c(){e=m("div"),n=m("div"),r=m("h3"),o=p("Round "),a=p(R),s=g();for(let t=0;t<P.length;t+=1)P[t].c();u=g(),c=m("hr"),h=g(),y=m("div"),b=m("button"),b.textContent="Add question",$(r,"class",""),$(c,"class","add-question-separator svelte-1h3hu58"),$(b,"class","add-question background-primary svelte-1h3hu58"),$(y,"class","add-question-button-container svelte-1h3hu58"),$(n,"class","card-body"),$(e,"class","card svelte-1h3hu58")},m(t,d,f){i(t,e,d),l(e,n),l(n,r),l(r,o),l(r,a),l(n,s);for(let t=0;t<P.length;t+=1)P[t].m(n,null);l(n,u),l(n,c),l(n,h),l(n,y),l(y,b),f&&w(),w=v(b,"click",C)},p(e,r){if(t=e,69&r){let e;for(x=t[14],e=0;e<x.length;e+=1){const o=ke(t,x,e);P[e]?P[e].p(o,r):(P[e]=Ne(o),P[e].c(),P[e].m(n,u))}for(;e<P.length;e+=1)P[e].d(1);P.length=x.length}},d(t){t&&d(e),f(P,t),w()}}}function Ae(e){let n,o,a,s,u,c,p,h,y;q(e[9]);let b=e[0],w=[];for(let t=0;t<b.length;t+=1)w[t]=Se(Oe(e,b,t));return{c(){n=m("div"),o=m("h2"),o.textContent="Enter questions and answers",a=g();for(let t=0;t<w.length;t+=1)w[t].c();s=g(),u=m("div"),c=m("button"),c.textContent="Add round",p=g(),h=m("button"),h.textContent="Create game",$(c,"class","background-secondary svelte-1h3hu58"),$(h,"class","background-success svelte-1h3hu58"),$(u,"class","bottom-buttons svelte-1h3hu58")},m(t,d,f){i(t,n,d),l(n,o),l(n,a);for(let t=0;t<w.length;t+=1)w[t].m(n,null);l(n,s),l(n,u),l(u,c),l(u,p),l(u,h),f&&r(y),y=[v(window,"resize",e[9]),v(c,"click",e[4]),v(h,"click",e[5])]},p(t,[e]){if(77&e){let r;for(b=t[0],r=0;r<b.length;r+=1){const o=Oe(t,b,r);w[r]?w[r].p(o,e):(w[r]=Se(o),w[r].c(),w[r].m(n,s))}for(;r<w.length;r+=1)w[r].d(1);w.length=b.length}},i:t,o:t,d(t){t&&d(n),f(w,t),r(y)}}}function qe(t,e,n){let{currentRoute:r}=e,{params:o}=e,a=[[{}]],s=0;const u=t=>{n(0,a[t]=[...a[t],{}],a)},c=(t,e)=>{a[t].splice(e,1),n(0,a)};let l;return t.$set=t=>{"currentRoute"in t&&n(7,r=t.currentRoute),"params"in t&&n(8,o=t.params)},t.$$.update=()=>{2&t.$$.dirty&&n(2,l=s<768)},[a,s,l,u,()=>{n(0,a=[...a,[{}]])},async()=>{const t=await Ce("/api/game/create",{method:"POST",body:{rounds:a}}),{gameId:e}=await t.json();$e.set(he),de("/game/"+e)},c,r,o,function(){n(1,s=window.innerWidth)},function(t,e){t[e].question=this.value,n(0,a)},function(t,e){t[e].answer=this.value,n(0,a)},(t,e)=>c(t,e),t=>u(t)]}function Ee(e){let n,a,s,u,c,f,h,y,R,x,P,C,k,O,N,S,A,q;return{c(){n=m("div"),a=m("h2"),a.textContent="Enter game ID:",s=g(),u=m("div"),c=m("div"),f=m("label"),f.textContent="Game ID:",h=g(),y=m("input"),R=g(),x=m("div"),P=m("label"),P.textContent="Name:",C=g(),k=m("input"),O=g(),N=m("div"),S=m("button"),A=p("Join game"),$(a,"class","svelte-2t2rph"),$(f,"for","gameId"),$(y,"type","text"),$(y,"placeholder","Enter game ID..."),$(y,"id","gameId"),$(c,"class","form-group"),$(P,"for","name"),$(k,"type","text"),$(k,"placeholder","Enter name..."),$(k,"id","name"),$(x,"class","form-group"),$(u,"class","inputs svelte-2t2rph"),S.disabled=e[2],$(S,"class","svelte-2t2rph"),w(S,"background-success",!e[2]),$(N,"class","bottom-section svelte-2t2rph"),$(n,"class","join-page svelte-2t2rph")},m(t,d,m){i(t,n,d),l(n,a),l(n,s),l(n,u),l(u,c),l(c,f),l(c,h),l(c,y),b(y,e[0]),l(u,R),l(u,x),l(x,P),l(x,C),l(x,k),b(k,e[1]),l(n,O),l(n,N),l(N,S),l(S,A),m&&r(q),q=[v(y,"input",e[7]),v(y,"input",(function(){o(e[4](e[0]))&&e[4](e[0]).apply(this,arguments)})),v(k,"input",e[8]),v(S,"click",e[3])]},p(t,[n]){e=t,1&n&&y.value!==e[0]&&b(y,e[0]),2&n&&k.value!==e[1]&&b(k,e[1]),4&n&&(S.disabled=e[2]),4&n&&w(S,"background-success",!e[2])},i:t,o:t,d(t){t&&d(n),r(q)}}}function je(t,e,n){let{currentRoute:r}=e,{params:o}=e,a="",s="";let u;return t.$set=t=>{"currentRoute"in t&&n(5,r=t.currentRoute),"params"in t&&n(6,o=t.params)},t.$$.update=()=>{3&t.$$.dirty&&n(2,u=!a.match(/\w-\w/)||""===s)},[a,s,u,async()=>{$e.set(ge);const t=await Ce("/api/player/create",{method:"POST",body:{name:s,gameId:a.toLowerCase()}}),{id:e}=await t.json();ye.set({id:e,name:s}),de("/game/"+a)},t=>{n(0,a=t.toLowerCase())},r,o,function(){a=this.value,n(0,a)},function(){s=this.value,n(1,s)}]}function _e(t,e,n){const r=t.slice();return r[1]=e[n],r}function Te(t){let e,n,r,o,a=t[1].name+"";return{c(){e=m("ul"),n=m("li"),r=p(a),o=g()},m(t,a){i(t,e,a),l(e,n),l(n,r),l(e,o)},p(t,e){1&e&&a!==(a=t[1].name+"")&&y(r,a)},d(t){t&&d(e)}}}function Ie(e){let n,r,o,a=e[0],s=[];for(let t=0;t<a.length;t+=1)s[t]=Te(_e(e,a,t));return{c(){n=m("div"),r=m("h3"),r.textContent="Players:",o=g();for(let t=0;t<s.length;t+=1)s[t].c();$(r,"class","svelte-1gicyqp")},m(t,e){i(t,n,e),l(n,r),l(n,o);for(let t=0;t<s.length;t+=1)s[t].m(n,null)},p(t,[e]){if(1&e){let r;for(a=t[0],r=0;r<a.length;r+=1){const o=_e(t,a,r);s[r]?s[r].p(o,e):(s[r]=Te(o),s[r].c(),s[r].m(n,null))}for(;r<s.length;r+=1)s[r].d(1);s.length=a.length}},i:t,o:t,d(t){t&&d(n),f(s,t)}}}function ze(t,e,n){let{players:r=[]}=e;return t.$set=t=>{"players"in t&&n(0,r=t.players)},[r]}class Le extends G{constructor(t){super(),F(this,t,ze,Ie,a,{players:0})}}function Ue(t,e,n){const r=t.slice();return r[1]=e[n],r}function De(t){let e,n,r,o,a,s=t[1].name+"",u=t[1].answers.filter(Me).length+"";return{c(){e=m("p"),n=p(s),r=p(": "),o=p(u),a=g()},m(t,s){i(t,e,s),l(e,n),l(e,r),l(e,o),l(e,a)},p(t,e){1&e&&s!==(s=t[1].name+"")&&y(n,s),1&e&&u!==(u=t[1].answers.filter(Me).length+"")&&y(o,u)},d(t){t&&d(e)}}}function We(e){let n,r,o,a=e[0],s=[];for(let t=0;t<a.length;t+=1)s[t]=De(Ue(e,a,t));return{c(){n=m("div"),r=m("div"),r.textContent="SCORES:",o=g();for(let t=0;t<s.length;t+=1)s[t].c()},m(t,e){i(t,n,e),l(n,r),l(n,o);for(let t=0;t<s.length;t+=1)s[t].m(n,null)},p(t,[e]){if(1&e){let r;for(a=t[0],r=0;r<a.length;r+=1){const o=Ue(t,a,r);s[r]?s[r].p(o,e):(s[r]=De(o),s[r].c(),s[r].m(n,null))}for(;r<s.length;r+=1)s[r].d(1);s.length=a.length}},i:t,o:t,d(t){t&&d(n),f(s,t)}}}const Me=t=>"CORRECT"===t.result;function Qe(t,e,n){let{players:r=[]}=e;return t.$set=t=>{"players"in t&&n(0,r=t.players)},[r]}class Je extends G{constructor(t){super(),F(this,t,Qe,We,a,{players:0})}}function Be(t,e,n){const r=t.slice();return r[4]=e[n],r}function Fe(t){let e,n,o,a,s,u,c,f,h,b,R=t[4].answer+"";function x(...e){return t[2](t[4],...e)}function P(...e){return t[3](t[4],...e)}return{c(){e=m("div"),n=m("div"),o=p(R),a=g(),s=m("div"),u=m("button"),u.textContent="✔",c=g(),f=m("button"),f.textContent="✘",h=g(),$(n,"class","col col-6"),$(u,"class","svelte-xqdrpl"),w(u,"background-success","CORRECT"===t[4].result),$(f,"class","svelte-xqdrpl"),w(f,"background-danger","INCORRECT"===t[4].result),$(s,"class","col col-6 row svelte-xqdrpl"),$(e,"class","row svelte-xqdrpl")},m(t,d,m){i(t,e,d),l(e,n),l(n,o),l(e,a),l(e,s),l(s,u),l(s,c),l(s,f),l(e,h),m&&r(b),b=[v(u,"click",x),v(f,"click",P)]},p(e,n){t=e,1&n&&R!==(R=t[4].answer+"")&&y(o,R),1&n&&w(u,"background-success","CORRECT"===t[4].result),1&n&&w(f,"background-danger","INCORRECT"===t[4].result)},d(t){t&&d(e),r(b)}}}function Ge(e){let n,r=e[0],o=[];for(let t=0;t<r.length;t+=1)o[t]=Fe(Be(e,r,t));return{c(){n=m("div");for(let t=0;t<o.length;t+=1)o[t].c()},m(t,e){i(t,n,e);for(let t=0;t<o.length;t+=1)o[t].m(n,null)},p(t,[e]){if(3&e){let a;for(r=t[0],a=0;a<r.length;a+=1){const s=Be(t,r,a);o[a]?o[a].p(s,e):(o[a]=Fe(s),o[a].c(),o[a].m(n,null))}for(;a<o.length;a+=1)o[a].d(1);o.length=r.length}},i:t,o:t,d(t){t&&d(n),f(o,t)}}}function He(t,e,n){let{answers:r=[]}=e,{onMarkAnswer:o}=e;return t.$set=t=>{"answers"in t&&n(0,r=t.answers),"onMarkAnswer"in t&&n(1,o=t.onMarkAnswer)},[r,o,t=>o(t.id,"CORRECT"),t=>o(t.id,"INCORRECT")]}class Ke extends G{constructor(t){super(),F(this,t,He,Ge,a,{answers:0,onMarkAnswer:1})}}function Ve(e){let n,o,a,s,u,c,f,h,R,x,P,C,k,O,N,S,A=e[0]?"Submit":"Waiting for next question...";return{c(){n=m("div"),o=m("div"),a=m("div"),s=m("div"),u=m("label"),c=p("Answer:"),h=g(),R=m("input"),C=g(),k=m("button"),O=p(A),$(u,"for",f="answer-input-"+e[1]),$(R,"id",x="answer-input-"+e[1]),$(R,"class","input-block"),$(R,"type","text"),R.disabled=P=!e[0],$(s,"class","form-group"),$(k,"class","submit-button svelte-1fma4j5"),k.disabled=N=!e[0],w(k,"background-success",e[0]),$(a,"class","col col-fill"),$(o,"class","row svelte-1fma4j5"),$(n,"class","answer-input svelte-1fma4j5")},m(t,d,f){i(t,n,d),l(n,o),l(o,a),l(a,s),l(s,u),l(u,c),l(s,h),l(s,R),b(R,e[3]),l(a,C),l(a,k),l(k,O),f&&r(S),S=[v(R,"input",e[4]),v(k,"click",e[5])]},p(t,[e]){2&e&&f!==(f="answer-input-"+t[1])&&$(u,"for",f),2&e&&x!==(x="answer-input-"+t[1])&&$(R,"id",x),1&e&&P!==(P=!t[0])&&(R.disabled=P),8&e&&R.value!==t[3]&&b(R,t[3]),1&e&&A!==(A=t[0]?"Submit":"Waiting for next question...")&&y(O,A),1&e&&N!==(N=!t[0])&&(k.disabled=N),1&e&&w(k,"background-success",t[0])},i:t,o:t,d(t){t&&d(n),r(S)}}}function Ye(t,e,n){let r,{enabled:o}=e,{gameStateAnswer:a=0}=e,{onSubmit:s}=e;return t.$set=t=>{"enabled"in t&&n(0,o=t.enabled),"gameStateAnswer"in t&&n(1,a=t.gameStateAnswer),"onSubmit"in t&&n(2,s=t.onSubmit)},[o,a,s,r,function(){r=this.value,n(3,r)},()=>s(r)]}class Xe extends G{constructor(t){super(),F(this,t,Ye,Ve,a,{enabled:0,gameStateAnswer:1,onSubmit:2})}}function Ze(e){let n;return{c(){n=m("div"),n.innerHTML='<div class="svelte-3mluf4"></div> \n  <div class="svelte-3mluf4"></div> \n  <div class="svelte-3mluf4"></div> \n  <div class="svelte-3mluf4"></div>',$(n,"class","dots svelte-3mluf4")},m(t,e){i(t,n,e)},p:t,i:t,o:t,d(t){t&&d(n)}}}class tn extends G{constructor(t){super(),F(this,t,null,Ze,a,{})}}let en;var nn=async(t,e)=>{if(!en){const{_csrf:t}=await(await fetch("/api/get-csrf")).json();en=t}return await io.socket.post(t,{...e,_csrf:en})},rn=async t=>await io.socket.get(t),on=(t,e)=>io.socket.on(t,e);function an(t){let e,n,r,o;const a=new Le({props:{players:t[6]}});let s=t[2]===ge&&un();return{c(){e=m("div"),M(a.$$.fragment),n=g(),s&&s.c(),r=h(),$(e,"class","player-list svelte-l0yz1m")},m(t,u){i(t,e,u),Q(a,e,null),i(t,n,u),s&&s.m(t,u),i(t,r,u),o=!0},p(t,e){const n={};64&e&&(n.players=t[6]),a.$set(n),t[2]===ge?s?4&e&&D(s,1):(s=un(),s.c(),D(s,1),s.m(r.parentNode,r)):s&&(L(),W(s,1,1,()=>{s=null}),U())},i(t){o||(D(a.$$.fragment,t),D(s),o=!0)},o(t){W(a.$$.fragment,t),W(s),o=!1},d(t){t&&d(e),J(a),t&&d(n),s&&s.d(t),t&&d(r)}}}function sn(t){let e,n,r,o;const a=[ln,cn],s=[];function u(t,e){return t[5]?t[4]&&t[4].state&&(t[4].state.endOfRound||t[4].state.gameOver)&&t[6]&&t[6].length?1:-1:0}return~(e=u(t))&&(n=s[e]=a[e](t)),{c(){n&&n.c(),r=h()},m(t,n){~e&&s[e].m(t,n),i(t,r,n),o=!0},p(t,o){let c=e;e=u(t),e===c?~e&&s[e].p(t,o):(n&&(L(),W(s[c],1,1,()=>{s[c]=null}),U()),~e?(n=s[e],n||(n=s[e]=a[e](t),n.c()),D(n,1),n.m(r.parentNode,r)):n=null)},i(t){o||(D(n),o=!0)},o(t){W(n),o=!1},d(t){~e&&s[e].d(t),t&&d(r)}}}function un(t){let e,n,r,o;const a=new tn({});return{c(){e=m("div"),n=m("div"),n.textContent="Waiting for host to start game",r=g(),M(a.$$.fragment),$(e,"class","bottom-section svelte-l0yz1m")},m(t,s){i(t,e,s),l(e,n),l(e,r),Q(a,e,null),o=!0},i(t){o||(D(a.$$.fragment,t),o=!0)},o(t){W(a.$$.fragment,t),o=!1},d(t){t&&d(e),J(a)}}}function cn(t){let e,n;const r=new Je({props:{players:t[6]}});return{c(){e=m("div"),M(r.$$.fragment),$(e,"class","player-scores svelte-l0yz1m")},m(t,o){i(t,e,o),Q(r,e,null),n=!0},p(t,e){const n={};64&e&&(n.players=t[6]),r.$set(n)},i(t){n||(D(r.$$.fragment,t),n=!0)},o(t){W(r.$$.fragment,t),n=!1},d(t){t&&d(e),J(r)}}}function ln(t){let e,n,r,o,a,s,u,c,f,v,b,w=t[7].question+"",R=t[2]===he&&dn(t);const x=[mn,fn],P=[];function C(t,e){return t[2]===ge?0:1}return c=C(t),f=P[c]=x[c](t),{c(){e=m("div"),n=m("h4"),n.textContent="Question:",r=g(),o=m("div"),a=p(w),s=g(),R&&R.c(),u=g(),f.c(),v=h(),$(n,"class","svelte-l0yz1m"),$(o,"class","question-answer-text svelte-l0yz1m"),$(e,"class","question-answer svelte-l0yz1m")},m(t,d){i(t,e,d),l(e,n),l(e,r),l(e,o),l(o,a),l(e,s),R&&R.m(e,null),i(t,u,d),P[c].m(t,d),i(t,v,d),b=!0},p(t,n){(!b||128&n)&&w!==(w=t[7].question+"")&&y(a,w),t[2]===he?R?R.p(t,n):(R=dn(t),R.c(),R.m(e,null)):R&&(R.d(1),R=null);let r=c;c=C(t),c===r?P[c].p(t,n):(L(),W(P[r],1,1,()=>{P[r]=null}),U(),f=P[c],f||(f=P[c]=x[c](t),f.c()),D(f,1),f.m(v.parentNode,v))},i(t){b||(D(f),b=!0)},o(t){W(f),b=!1},d(t){t&&d(e),R&&R.d(),t&&d(u),P[c].d(t),t&&d(v)}}}function dn(t){let e,n,r,o,a=t[7].answer+"";return{c(){e=m("h4"),e.textContent="Answer:",n=g(),r=m("div"),o=p(a),$(e,"class","svelte-l0yz1m"),$(r,"class","question-answer-text svelte-l0yz1m")},m(t,a){i(t,e,a),i(t,n,a),i(t,r,a),l(r,o)},p(t,e){128&e&&a!==(a=t[7].answer+"")&&y(o,a)},d(t){t&&d(e),t&&d(n),t&&d(r)}}}function fn(t){let e,n,r,o,a,s;const u=new Ke({props:{answers:t[8],onMarkAnswer:t[12]}});return{c(){e=m("div"),n=m("hr"),r=g(),o=m("h4"),o.textContent="Player answers:",a=g(),M(u.$$.fragment),$(n,"class","svelte-l0yz1m"),$(o,"class","svelte-l0yz1m"),$(e,"class","player-answers svelte-l0yz1m")},m(t,c){i(t,e,c),l(e,n),l(e,r),l(e,o),l(e,a),Q(u,e,null),s=!0},p(t,e){const n={};256&e&&(n.answers=t[8]),u.$set(n)},i(t){s||(D(u.$$.fragment,t),s=!0)},o(t){W(u.$$.fragment,t),s=!1},d(t){t&&d(e),J(u)}}}function mn(t){let e,n;const r=new Xe({props:{enabled:!t[1],gameStateAnswer:t[4].state.answer,onSubmit:t[11]}});return{c(){e=m("div"),M(r.$$.fragment),$(e,"class","answer-input svelte-l0yz1m")},m(t,o){i(t,e,o),Q(r,e,null),n=!0},p(t,e){const n={};2&e&&(n.enabled=!t[1]),16&e&&(n.gameStateAnswer=t[4].state.answer),r.$set(n)},i(t){n||(D(r.$$.fragment,t),n=!0)},o(t){W(r.$$.fragment,t),n=!1},d(t){t&&d(e),J(r)}}}function pn(t){let e,n,r,o,a=t[4]&&t[4].state&&t[4].state.started?"Next Question":"Start Game";return{c(){e=m("div"),n=m("button"),r=p(a),$(n,"class","start-next-button svelte-l0yz1m"),n.disabled=t[9],w(n,"background-success",!t[9]),$(e,"class","bottom-section svelte-l0yz1m")},m(a,s,u){i(a,e,s),l(e,n),l(n,r),u&&o(),o=v(n,"click",t[10])},p(t,e){16&e&&a!==(a=t[4]&&t[4].state&&t[4].state.started?"Next Question":"Start Game")&&y(r,a),512&e&&(n.disabled=t[9]),512&e&&w(n,"background-success",!t[9])},d(t){t&&d(e),o()}}}function gn(t){let e,n,r,o,a,s,u,c,f;const h=[sn,an],v=[];function b(t,e){return t[3]?0:1}s=b(t),u=v[s]=h[s](t);let w=t[2]===he&&!(t[4]&&t[4].state&&t[4].state.gameOver)&&pn(t);return{c(){e=m("div"),n=m("h2"),r=p(t[0]),o=g(),a=m("div"),u.c(),c=g(),w&&w.c(),$(n,"class","title svelte-l0yz1m"),$(a,"class","main-section svelte-l0yz1m"),$(e,"class","game-page svelte-l0yz1m")},m(t,u){i(t,e,u),l(e,n),l(n,r),l(e,o),l(e,a),v[s].m(a,null),l(e,c),w&&w.m(e,null),f=!0},p(t,[n]){(!f||1&n)&&y(r,t[0]);let o=s;s=b(t),s===o?v[s].p(t,n):(L(),W(v[o],1,1,()=>{v[o]=null}),U(),u=v[s],u||(u=v[s]=h[s](t),u.c()),D(u,1),u.m(a,null)),t[2]!==he||t[4]&&t[4].state&&t[4].state.gameOver?w&&(w.d(1),w=null):w?w.p(t,n):(w=pn(t),w.c(),w.m(e,null))},i(t){f||(D(u),f=!0)},o(t){W(u),f=!1},d(t){t&&d(e),v[s].d(),w&&w.d()}}}function hn(t,e,n){let r,o,a;u(t,$e,t=>n(2,r=t)),u(t,ve,t=>n(4,o=t)),u(t,ye,t=>n(21,a=t));let{currentRoute:s}=e,{params:c}=e,l=r===he?"Waiting for players to join...":"Waiting for game to start...",i=!1,d=0,f=0;const{namedParams:{id:m}}=s;P(async()=>{on("gameUpdate",t=>{ve.set(t.game),pe.getJSON("gameInProgress")||pe.set("gameInProgress",{player:a,game:{id:o.id,gameId:o.gameId},role:r},{expires:1}),o.state.started&&(console.log(o),n(0,l=`Round ${$+1}: Question ${y+1}`)),o.state.finished&&(n(0,l="Final scores:"),pe.remove("gameInProgress")),o.state.endOfRound&&n(0,l="End of round!"),o.state.gameOver&&n(0,l="Game over!"),d!==$&&(d=$,n(1,i=!1)),f!==o.state.question&&(f=o.state.question,n(1,i=!1))}),rn(`localhost:3000/api/game/${m}/join`)});let p,g,h,v,$,y,b,w,R,x;return t.$set=t=>{"currentRoute"in t&&n(13,s=t.currentRoute),"params"in t&&n(14,c=t.params)},t.$$.update=()=>{16&t.$$.dirty&&n(3,p=o&&o.state&&o.state.started),16&t.$$.dirty&&(g=o&&o.state&&o.state.gameOver),16&t.$$.dirty&&n(5,h=o&&o.state&&o.state.endOfRound),16&t.$$.dirty&&n(6,v=o&&o.players||[]),16&t.$$.dirty&&n(18,$=o&&o.state?o.state.round:void 0),16&t.$$.dirty&&n(19,y=o&&o.state?o.state.question:void 0),262160&t.$$.dirty&&n(20,b=o&&o.rounds&&o.rounds[$]||void 0),1572864&t.$$.dirty&&n(7,w=b&&b.questions[y]||void 0),128&t.$$.dirty&&n(8,R=w&&w.playerAnswers||[]),328&t.$$.dirty&&n(9,x=!v.length||p&&R.length<v.length)},[l,i,r,p,o,h,v,w,R,x,()=>nn(`localhost:3000/api/game/${m}/next`),t=>{n(1,i=!0),nn(`localhost:3000/api/game/${m}/answer`,{playerId:a.id,questionId:o.rounds[$].questions[y].id,answer:t})},(t,e)=>{nn(`localhost:3000/api/game/${m}/answer/${t}/mark`,{result:e})},s,c]}const vn=[{name:"/",component:class extends G{constructor(t){super(),F(this,t,xe,Re,a,{currentRoute:2,params:3})}}},{name:"/setup",component:class extends G{constructor(t){super(),F(this,t,qe,Ae,a,{currentRoute:7,params:8})}}},{name:"/join",component:class extends G{constructor(t){super(),F(this,t,je,Ee,a,{currentRoute:5,params:6})}}},{name:"/game/:id",component:class extends G{constructor(t){super(),F(this,t,hn,gn,a,{currentRoute:13,params:14})}}}];function $n(e){let n,r;const o=new fe({props:{routes:vn}});return{c(){n=m("main"),M(o.$$.fragment),$(n,"class","svelte-rns02x")},m(t,e){i(t,n,e),Q(o,n,null),r=!0},p:t,i(t){r||(D(o.$$.fragment,t),r=!0)},o(t){W(o.$$.fragment,t),r=!1},d(t){t&&d(n),J(o)}}}return new class extends G{constructor(t){super(),F(this,t,null,$n,a,{})}}({target:document.body})}();
//# sourceMappingURL=bundle.js.map
